<div class="container-assignment-top">
  <div class="container-difficulty-title-pdf" id="difficulty-title-pdf">
    <div class="container-title-difficulty-due-date" id="title-difficulty-due-date">
      <div class="container-title-difficulty" id="title-difficulty">
        <h2><%= @assignment.title %></h2>
        <div class="container-difficulty-box" id="difficulty-box">
          <span class="dot"></span><h5>medium</h5>
        </div>
      </div>
     <h6><strong>Due: </strong><%= @assignment.due_date %></h6>
    </div>
    <div class="container" id="pdf-container">
      <%# <h1>pdf placeholder</h1> %>

<% if @assignment.photos.size == 1 %>
  <img class="d-block w-100" src="<%= cl_image_path @assignment.photos.first.key %>" alt="photo" >
<% elsif @assignment.photos.size > 1 %>
  <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="true">
    <div class="carousel-indicators">
    <% @assignment.photos.size.times do |i| %>
      <li data-target="#carouselExampleIndicators" data-slide-to="<%= i %>" class="<%= "active" if i.zero? %>"></li>
      <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="<%= i %>" class="<%= i == 0 ? "active" : "" %>" aria-current="true" aria-label=""></button>
    <% end %>
    </div>
    <div class="carousel-inner">
    <% @assignment.photos.each_with_index do |photo, index| %>
      <div class="carousel-item <%= index == 0 ? "active" : "" %>">
        <img class="d-block w-100" src="<%= cl_image_path photo.key %>" alt="<%= index.ordinalize %> image">
      </div>
      <% end %>
    </div>

    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
<% end %>


    </div>
  </div>
  <div class="container" id="classmate-progress">
    <h3>User progress</h3>
    <i class="fa-solid fa-user-tie-hair"></i>
    <ul>
    <div id="your-progress-compared">
      <% if current_user.photo.present? %>
        <%= cl_image_tag current_user.photo.key, class: "avatar-small" %>
      <% else %>
        <%= image_tag "https://www.pngitem.com/pimgs/m/272-2720607_this-icon-for-gender-neutral-user-circle-hd.png", class: "avatar-small"%>
      <% end %>
      <strong><%= current_user.firstName %> (you)</strong>
    </div>
        <br>
    <% @assignment.users.each do |user| %>
    <%= user.id %>
      <div class="profiles">
        <%= render "shared/avatar", user:  user%>
      </div>
    <% end %>
    </ul>
      <div class="container-forum" id="forum-button">
        <%= link_to "Forum", class: "btn btn-ghost" %>
      </div>
  </div>
</div>

<script>

// let pics = document.querySelectorAll(".carousel-item")
// pics.item(0).classList.add("active");
// console.log(pics)

// const nxtBtn = document.querySelector(".carousel-control-next-icon")
// const prevBtn = document.querySelector(".carousel-control-prev-icon")

// nxtBtn.addEventListener("click", () => {
  // console.log("blah");
// });

// prevBtn.addEventListener("click", => {
//   console.log("blah");
// });

</script>
